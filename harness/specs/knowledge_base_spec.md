# Knowledge Base Agent

Create centralized developer knowledge base for Velocity Fibre operations.

## Purpose

**Problem**: Knowledge scattered (repos, servers, READMEs, tribal knowledge)
**Solution**: `velocity-fibre-knowledge` repo accessible via filesystem + web
**URL**: docs.fibreflow.app
**Access**: Claude Code (Read tool) + humans (web browser)

## Core Capabilities

1. **Repository Setup** - Create velocity-fibre-knowledge with MkDocs config
2. **Server Docs** - Document Hostinger VPS + VF Server (ports, services, paths)
3. **App Docs** - FibreFlow, QFieldCloud, WA Monitor (APIs, deployment)
4. **Database Schema** - Auto-generate from Neon, create ERD
5. **Skills Docs** - When to use Claude skills, decision trees
6. **Web Deploy** - Build + deploy MkDocs site via Cloudflare Tunnel

## Tools

1. **create_repo_structure(base_path)** - Initialize knowledge repo
2. **extract_server_docs(server_name)** - Generate server documentation
3. **generate_db_schema(format)** - Export Neon schema (sql/markdown/erd)
4. **create_app_docs(app_name, sections)** - App documentation
5. **document_claude_skills(skill_name)** - Skills usage guide
6. **setup_mkdocs(config)** - Configure MkDocs Material
7. **deploy_to_web(build_only)** - Deploy to docs.fibreflow.app
8. **setup_automation()** - Auto-update scripts + git hooks
9. **validate_docs()** - Check links + completeness

## Integration

**Environment Variables**:
```bash
NEON_DATABASE_URL=postgresql://...   # For schema generation
VF_SERVER_HOST=100.96.203.105        # For deployment
VF_SERVER_USER=louis
```

**Dependencies**: mkdocs-material, psycopg2-binary, pyyaml

**Repository Structure**:
```
velocity-fibre-knowledge/
├── mkdocs.yml
├── docs/
│   ├── servers/       # Hostinger VPS, VF Server
│   ├── apps/          # FibreFlow, QFieldCloud, WA Monitor
│   ├── databases/     # Neon schema, ERD, queries
│   ├── skills/        # Claude skills usage
│   └── procedures/    # Deploy, maintenance, rollback
├── scripts/           # Automation tools
└── site/              # Generated by mkdocs build
```

## Success Criteria

1. Repository created with MkDocs configured
2. Server + app documentation generated
3. Database schema auto-exported from Neon
4. Skills documented with decision trees
5. Web site deployed at docs.fibreflow.app
6. Automation scripts configured (daily schema update, auto-deploy on commit)
7. Documentation validates without errors

## Notes

- **Keep docs concise**: Max 200 lines per file (prevent context bloat)
- **Use existing skills**: Leverage .claude/skills/database-operations for schema
- **Version control**: All docs in git, human-readable commit messages
- **Web-first design**: MkDocs Material for beautiful searchable interface
- **Automation critical**: Daily schema updates, auto-deploy on push
