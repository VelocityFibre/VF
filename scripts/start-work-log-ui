#!/bin/bash
# Start the Work Log UI server

echo "Starting Work Log UI Server..."
echo "================================"
echo ""

# Check if port 8001 is already in use
if lsof -Pi :8001 -sTCP:LISTEN -t >/dev/null ; then
    echo "âš ï¸  Port 8001 is already in use!"
    echo "   Run: lsof -i:8001 to see what's using it"
    echo "   Or kill it with: kill $(lsof -t -i:8001)"
    exit 1
fi

# Activate virtual environment and start server
source venv/bin/activate
python3 api/work_log_api.py &
SERVER_PID=$!

echo "âœ… Work Log UI is running!"
echo ""
echo "ğŸ“Š Access the UI at:"
echo "   http://localhost:8001/work-log"
echo ""
echo "ğŸ”Œ API endpoint:"
echo "   http://localhost:8001/api/work-log?days=7"
echo ""
echo "ğŸ›‘ To stop the server:"
echo "   kill $SERVER_PID"
echo ""
echo "Server PID: $SERVER_PID"